## ⚡ 오답노트: 전력망을 둘로 나누기 (프로그래머스 Lv.2)

### 📅 풀이 일자

2025-11-06

---

### 🧩 문제 요약

n개의 송전탑이 트리 형태로 전선으로 연결되어 있다. 전선 중 하나를 끊어서 두 전력망으로 나눌 때, 두 전력망이 가진 송전탑 개수의 차이(절댓값)를 최소화해야 한다.

**입력:**

- n (송전탑 개수, 2 ≤ n ≤ 100)
- wires (전선 연결 정보, 길이 n-1)

**출력:**

- 두 전력망의 송전탑 개수 차이의 최소값

---

### ❌ 오답 접근

1. **잘못된 연결 표현**
   → `[1,3], [2,3], [3,1,2,4,5...]` 식으로 한쪽 노드에 모든 연결을 몰아넣음.
   → ❌ 이는 트리 구조 표현이 아님. 각 노드는 **자신과 직접 연결된 노드만** 가져야 함.

2. **끊은 뒤 영역 계산 방식 미정**
   → 전선을 하나 끊었을 때, 어느 노드들이 연결되어 있는지 세는 방법이 불명확했음.
   → 단순히 배열에서 제거하는 것만으로는 연결 여부를 판단할 수 없음.

3. **이진트리로 착각**
   → 완전 이진트리처럼 DP 접근이 가능한 줄 알았으나, 본 문제는 **무방향 트리** 구조로 DP가 불가함.
   → ✅ 각 전선을 끊을 때마다 DFS/BFS로 직접 탐색해야 함.

---

### ✅ 정답 접근 로직 (논리 흐름 중심)

1. **그래프 구성**

   ```
   graph = {
     1: [3],
     2: [3],
     3: [1,2,4],
     4: [3,5,6,7],
     5: [4],
     6: [4],
     7: [4,8,9],
     8: [7],
     9: [7]
   }
   ```

2. **각 전선을 하나씩 끊기**
   예: [4,7]을 끊을 경우 → 4에서 7 제거, 7에서 4 제거.

3. **한쪽 노드에서 DFS 탐색으로 연결된 노드 개수 세기**

   - 예: `dfs(4)` → [4,3,1,2,5,6] → 6개
   - 나머지 쪽은 9 - 6 = 3개
   - 차이 = |6 - 3| = 3

4. **모든 전선에 대해 반복 → 최소 차이 반환**

---

### 🧠 핵심 개념 정리

| 개념        | 설명                                               |
| ----------- | -------------------------------------------------- |
| 트리        | 사이클 없는 연결 그래프 (n개의 노드, n-1개의 간선) |
| 인접 리스트 | 각 노드가 연결된 노드 목록을 저장하는 배열/객체    |
| DFS/BFS     | 연결된 노드를 모두 탐색해 개수를 세는 방식         |
| 절댓값 차이 | 두 영역의 송전탑 개수 차이를 구하는 최종 목표      |

---

### 🧩 사고 전환 포인트

- ✅ **이진트리 X → 일반 트리 O**
- ✅ **DP X → 탐색 기반 접근 O**
- ✅ **끊은 후 탐색**이 핵심 (끊기 전엔 의미 없음)
- ✅ 각 노드는 직접 연결된 노드만 저장해야 함 (직접 연결 관계만)

---

### 🧮 복잡도 분석

- 전선 n-1개 중 하나씩 끊고 DFS 수행 → O(n²) 이하
- n 최대 100 → 완전탐색 가능 (효율성 문제 없음)

---

### 💬 깨달음 / 다음에 주의할 점

- 무방향 트리에서는 “부모-자식” 관계가 없다는 점을 항상 인지하자.
- 그래프 문제는 언제나 **인접 리스트 + 탐색으로 연결 확인**이 기본이다.
- DP는 ‘방향성과 부분 문제 재활용’이 있을 때만 쓸 수 있다.

---

### 🔁 다음 복습 포인트

- [ ] 그래프 인접 리스트 직접 구성 연습하기
- [ ] DFS/BFS 탐색으로 연결된 노드 수 세기 구현 연습
- [ ] 트리 구조 문제에서 DP가 가능한 조건 구분하기
